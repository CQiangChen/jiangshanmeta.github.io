webpackJsonp([5,21],{711:function(e,t,a){var l=a(51)(a(893),a(925),null,null,null);e.exports=l.exports},716:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}},717:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{required:!0}}}},718:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Array,required:!0}}}},719:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(149),n=a.n(l),i=a(723);t.default={data:function(){return{candidate:[]}},props:{uri:{type:String},httpRequest:{type:Function,default:i.getAsyncCandidate}},methods:{getCandidate:function(){var e=this;return new n.a(function(t,a){e.httpRequest(e,t)}).then(function(t){return e.candidate=t}).catch(function(e){console.log(e)})}},created:function(){this.getCandidate()}}},720:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{labelfield:{type:String,default:"label"},valuefield:{type:String,default:"value"}}}},722:function(e,t,a){var l=a(51)(a(769),a(771),null,null,null);e.exports=l.exports},723:function(e,t,a){"use strict";function l(e,t){c.default.get(e.uri).then(function(e){t(e.data.data)})}function n(e,t,a){c.default.get(e.uri,{params:t}).then(function(e){a(e.data.data)})}function i(e,t){c.default.get(e.createLink).then(function(e){t(e.data.fields)})}function r(e,t,a){c.default.post(e.doCreateLink,t).then(function(){a()})}function d(e,t){c.default.get(e.editLink+"/"+e.id).then(function(e){t(e.data.fields)})}function u(e,t,a){c.default.post(e.doEditLink+"/"+e.id,t).then(function(e){a(e)})}function s(e,t){c.default.post(e.uri+"/"+e.id).then(function(){t()})}function o(e,t){c.default.get(e.uri+"/"+e.id).then(function(e){t(e.data.fields)})}function f(e,t,a){e.baseUrl&&c.default.get(""+e.baseUrl,{params:t}).then(function(e){a(e.data)})}Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"getAsyncCandidate",function(){return l}),a.d(t,"getRelatesCandidate",function(){return n}),a.d(t,"getCreateInfo",function(){return i}),a.d(t,"doCreate",function(){return r}),a.d(t,"getEditInfo",function(){return d}),a.d(t,"doEdit",function(){return u}),a.d(t,"doDelete",function(){return s}),a.d(t,"getDetailInfo",function(){return o}),a.d(t,"getListInfo",function(){return f});var c=a(151)},724:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(271),n=a.n(l),i=a(777),r=a.n(i),d=a(149),u=a.n(d),s=a(723);t.default={props:{relates:{type:Array,default:function(){return[]}},uri:{type:String,default:""},httpRequest:{type:Function,default:s.getRelatesCandidate},labelfield:{type:String,default:"label"},valuefield:{type:String,default:"value"}},methods:{getOptions:function(){var e=this;if(this.hasValidIds&&!this.hasCachedOptions){var t=this.relates.reduce(function(e,t){return e[t.hasOwnProperty("requestField")?t.requestField:t.relateField]=t.value,e},{});new u.a(function(a,l){e.httpRequest(e,t,a)}).then(function(t){e.setCacheOptions(t)}).catch(function(e){console.log(e)})}},setCacheOptions:function(e){for(var t=this.optionsCache,a=this.relates.length,l=0;l<a-1;){var n=this.relates[l++].value;t.hasOwnProperty(n)||this.$set(t,n,{}),t=t[n]}this.$set(t,this.relates[a-1].value,e)}},computed:{finalOptions:function(){if(!this.hasValidIds||!this.hasCachedOptions)return[];for(var e=this.relates.length,t=0,a=this.optionsCache;t<e;)a=a[this.relates[t++].value];return a},allOptions:function(){var e=this.relates.length,t=0,a=[];for(a[0]=[this.optionsCache];t<e;)a[t+1]=a[t].reduce(function(e,t){var a=r()(t);return e.concat(a)},[]),t++;var l=this.valuefield,n=a[t].reduce(function(e,t){return t.reduce(function(e,t){return e[t[l]]=t,e},e),e},{});return r()(n)},hasValidIds:function(){var e=!0,t=!1,a=void 0;try{for(var l,i=n()(this.relates);!(e=(l=i.next()).done);e=!0){var r=l.value;if(r.value===r.invalidValue)return!1}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}return!0},hasCachedOptions:function(){for(var e=this.optionsCache,t=this.relates.length,a=0,l=void 0;a<t;){if(l=this.relates[a++].value,!e.hasOwnProperty(l))return!1;e=e[l]}return!0}},data:function(){return{optionsCache:{}}},watch:{relates:{handler:"getOptions",deep:!0,immediate:!0}}}},725:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{placeholder:{}}}},728:function(e,t,a){var l=a(51)(a(794),a(859),null,null,null);e.exports=l.exports},730:function(e,t,a){var l=a(51)(a(817),a(847),null,null,null);e.exports=l.exports},731:function(e,t,a){"use strict";function l(e,t){e.forEach(function(e){n(e,t)})}function n(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.relateField;Object.defineProperty(e,"value",{get:function(){return t[a]},set:function(){},enumerable:!0,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe_relates=l,t.observe_item=n},739:function(e,t,a){"use strict";t.__esModule=!0;var l=a(273),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=function(e){return Array.isArray(e)?e:(0,n.default)(e)}},751:function(e,t,a){var l=a(51)(a(795),a(864),null,null,null);e.exports=l.exports},753:function(e,t,a){var l=a(51)(a(799),a(842),null,null,null);e.exports=l.exports},756:function(e,t,a){var l=a(51)(a(810),a(866),null,null,null);e.exports=l.exports},758:function(e,t,a){var l=a(51)(a(814),a(863),null,null,null);e.exports=l.exports},769:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(720),n=a(725),i=a(717);t.default={name:"field_model",mixins:[l.default,n.default,i.default],data:function(){return{showValue:""}},computed:{valueLabelHash:function(){var e=this.valuefield,t=this.labelfield;return this.candidate.reduce(function(a,l){return a[l[e]]=l[t],a},{})}},props:{candidate:{type:Array,required:!0}},methods:{queryModel:function(e,t){var a=this;t(e?this.candidate.filter(function(t){return t[a.labelfield].includes(e)}):this.candidate)},handleInput:function(e){this.showValue=e},handleSelect:function(e){this.$emit("input",e[this.valuefield]),this.setShowValueByValue()},setShowValueByValue:function(){var e=this.value;this.valueLabelHash.hasOwnProperty(e)&&this.setShowValue(this.valueLabelHash[e])},setShowValue:function(e){this.showValue=e}},watch:{value:"setShowValueByValue",candidate:"setShowValueByValue"},created:function(){this.setShowValueByValue()}}},771:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-autocomplete",{attrs:{value:e.showValue,props:{value:e.valuefield,label:e.labelfield},"fetch-suggestions":e.queryModel,placeholder:e.placeholder},on:{select:e.handleSelect,input:e.handleInput}})},staticRenderFns:[]}},777:function(e,t,a){e.exports={default:a(779),__esModule:!0}},779:function(e,t,a){a(781),e.exports=a(18).Object.values},780:function(e,t,a){var l=a(62),n=a(52),i=a(78).f;e.exports=function(e){return function(t){for(var a,r=n(t),d=l(r),u=d.length,s=0,o=[];u>s;)i.call(r,a=d[s++])&&o.push(e?[a,r[a]]:r[a]);return o}}},781:function(e,t,a){var l=a(29),n=a(780)(!1);l(l.S,"Object",{values:function(e){return n(e)}})},794:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(739),n=a.n(l),i=a(722),r=a.n(i),d=a(718),u=a(720),s=a(716);t.default={name:"field_array_model",inheritAttrs:!0,mixins:[d.default,u.default,s.default],components:{field_model:r.a},props:{candidate:{type:Array,required:!0}},data:function(){return{selectedId:""}},computed:{labelValueHash:function(){var e=this.valuefield,t=this.labelfield;return this.candidate.reduce(function(a,l){return a[l[e]]=l[t],a},{})}},methods:{removeItem:function(e){var t=n()(this.value),a=t.slice(0);a.splice(e,1),this.model=a},addItem:function(){var e=n()(this.value),t=e.slice(0);t.includes(this.selectedId)||(t.push(this.selectedId),this.model=t)}}}},795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(728),n=a.n(l),i=a(719),r=a(718),d=a(716);t.default={name:"field_async_array_model",inheritAttrs:!0,mixins:[i.default,r.default,d.default],components:{field_array_model:n.a}}},799:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(730),n=a.n(l),i=a(719),r=a(718),d=a(716);t.default={name:"field_async_tag",inheritAttrs:!0,components:{field_tag:n.a},mixins:[i.default,r.default,d.default]}},810:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(728),n=a.n(l),i=a(724),r=a(718),d=a(716);t.default={name:"field_relates_array_model",inheritAttrs:!0,mixins:[i.default,r.default,d.default],components:{field_array_model:n.a}}},814:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(730),n=a.n(l),i=a(724),r=a(718),d=a(716);t.default={name:"field_relates_tag",inheritAttrs:!0,mixins:[i.default,r.default,d.default],components:{field_tag:n.a}}},817:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(716),n=a(720),i=a(718);t.default={name:"field_tag",mixins:[l.default,n.default,i.default],props:{candidate:{type:Array,required:!0}}}},842:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("field_tag",e._b({attrs:{candidate:e.candidate},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"field_tag",e.$attrs,!1))},staticRenderFns:[]}},847:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox-group",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.candidate,function(t){return a("el-checkbox",{key:t[e.valuefield],attrs:{label:t[e.valuefield]}},[e._v("\n        "+e._s(t[e.labelfield])+"\n    ")])}))},staticRenderFns:[]}},859:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("ul",{staticClass:"list-group"},e._l(e.value,function(t,l){return a("li",{key:t,staticClass:"list-group-item"},[e._v("\r\n            "+e._s(e.labelValueHash.hasOwnProperty(t)?e.labelValueHash[t]:t)+"\r\n            "),a("i",{staticClass:"el-icon-close pull-right",on:{click:function(t){e.removeItem(l)}}})])})),e._v(" "),a("field_model",e._b({attrs:{valuefield:e.valuefield,labelfield:e.labelfield,candidate:e.candidate},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},"field_model",e.$attrs,!1)),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.addItem}},[e._v("添加")])],1)},staticRenderFns:[]}},863:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("field_tag",e._b({attrs:{candidate:e.finalOptions,labelfield:e.labelfield,valuefield:e.valuefield},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"field_tag",e.$attrs,!1))},staticRenderFns:[]}},864:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("field_array_model",e._b({attrs:{candidate:e.candidate},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"field_array_model",e.$attrs,!1))},staticRenderFns:[]}},866:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("field_array_model",e._b({attrs:{candidate:e.finalOptions,labelfield:e.labelfield,valuefield:e.valuefield},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"field_array_model",e.$attrs,!1))},staticRenderFns:[]}},893:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(730),n=a.n(l),i=a(753),r=a.n(i),d=a(728),u=a.n(d),s=a(751),o=a.n(s),f=a(758),c=a.n(f),_=a(756),v=a.n(_),h=a(731);t.default={config:{field_tag_candidate:[{value:1,label:"aaa"},{value:2,label:"bbb"},{value:3,label:"ccc"},{value:4,label:"ddd"},{value:5,label:"eee"}],field_array_model_candidate:[{id:1,name:"太年轻"},{id:2,name:"太天真"},{id:3,name:"亦可赛艇"},{id:4,name:"exciting"},{id:5,name:"simple"},{id:6,name:"naive"}],field_relates_tag_relates:[{relateField:"relates",invalidValue:"",requestField:"sex"}],field_relates_model_relates:[{relateField:"relates",invalidValue:"",requestField:"sex"}]},components:{field_tag:n.a,field_async_tag:r.a,field_array_model:u.a,field_async_array_model:o.a,field_relates_tag:c.a,field_relates_array_model:v.a},data:function(){return{relates:"",field_tag:[],field_async_tag:[],field_array_model:[],field_async_array_model:[],field_relates_tag:[],field_relates_array_model:[]}},created:function(){var e=this;a.i(h.observe_relates)(this.field_relates_tag_relates,this),a.i(h.observe_relates)(this.field_relates_model_relates,this),setTimeout(function(){e.field_tag=[1,5],e.field_async_tag=[5],e.field_async_array_model=[2]},1e3)}}},925:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-input",{model:{value:e.relates,callback:function(t){e.relates=t},expression:"relates"}}),e._v(" "),a("table",{staticClass:"table"},[e._m(0),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("field_tag")]),e._v(" "),a("td",[e._v(e._s(e.field_tag))]),e._v(" "),a("td",[a("field_tag",{attrs:{candidate:e.field_tag_candidate},model:{value:e.field_tag,callback:function(t){e.field_tag=t},expression:"field_tag"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("field_async_tag")]),e._v(" "),a("td",[e._v(e._s(e.field_async_tag))]),e._v(" "),a("td",[a("field_async_tag",{attrs:{uri:"/test/field_async_tag"},model:{value:e.field_async_tag,callback:function(t){e.field_async_tag=t},expression:"field_async_tag"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("field_array_model")]),e._v(" "),a("td",[e._v(e._s(e.field_array_model))]),e._v(" "),a("td",[a("field_array_model",{attrs:{candidate:e.field_array_model_candidate,placeholder:"placeholder2",labelfield:"name",valuefield:"id"},model:{value:e.field_array_model,callback:function(t){e.field_array_model=t},expression:"field_array_model"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("field_async_array_model")]),e._v(" "),a("td",[e._v(e._s(e.field_async_array_model))]),e._v(" "),a("td",[a("field_async_array_model",{attrs:{uri:"/test/field_async_array_model",labelfield:"name",valuefield:"id"},model:{value:e.field_async_array_model,callback:function(t){e.field_async_array_model=t},expression:"field_async_array_model"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("field_relates_tag")]),e._v(" "),a("td",[e._v(e._s(e.field_relates_tag))]),e._v(" "),a("td",[a("field_relates_tag",{attrs:{relates:e.field_relates_tag_relates,uri:"/test/field_relates_tag",labelfield:"name",valuefield:"id"},model:{value:e.field_relates_tag,callback:function(t){e.field_relates_tag=t},expression:"field_relates_tag"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("field_relates_array_model")]),e._v(" "),a("td",[e._v(e._s(e.field_relates_array_model))]),e._v(" "),a("td",[a("field_relates_array_model",{attrs:{relates:e.field_relates_model_relates,labelfield:"name",valuefield:"id",uri:"/test/field_relates_array_model"},model:{value:e.field_relates_array_model,callback:function(t){e.field_relates_array_model=t},expression:"field_relates_array_model"}})],1)])])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("组件名")]),e._v(" "),a("th",[e._v("组件值")]),e._v(" "),a("th",[e._v("组件实例")])])])}]}}});
//# sourceMappingURL=5.1b240a215ee79b0446b7.js.map