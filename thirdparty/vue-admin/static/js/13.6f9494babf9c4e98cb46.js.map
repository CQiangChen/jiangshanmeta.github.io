{"version":3,"sources":["webpack:///static/js/13.6f9494babf9c4e98cb46.js","webpack:///./src/widget/utility.js","webpack:///./src/models/userModel.js","webpack:///./src/server/user.js"],"names":["webpackJsonp","772","module","__webpack_exports__","__webpack_require__","enumArr2Hash","arr","label","arguments","length","undefined","value","reduce","obj","item","Object","defineProperty","d","789","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__server_user_js__","field_list","name","editorComponent","config","placeholder","default","validator","rule","cb","Error","password","gender","showComponent","path","enums","tip","typ","candidate","valuefield","labelfield","privilege","httpRequest","relates","invalidValue","relateField","requestField","desc","createConfig","getInfoRequest","doCreateRequest","filters","field","allvalue","alllabel","msg","listConfig","listRequest","sortFields","treatData","data","_this","this","a","mark","_callee","wrap","_context","prev","next","abrupt","stop","pageSizes","operators","component","componentPath","title","detailRequest","doEditRequest","autoValidate","type","function","$message","message","duration","doDeleteRequest","791","getPrivilege","vm","req_typ","console","log","rst","privilegeEnum","slice","getCreateFields","createFields","createUser","id","userTable","push","getUserList","params","fields","total","getUserDetail","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default","done","_ret","detailFields","row","rowInfo","arr2","typHash","v","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","err","return","getEditUserInfo","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_ret2","editFields","editUser","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","forEach","delUser","index","splice","genderEnum","typEnum","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_3__widget_utility_js__","0","1","i"],"mappings":"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","file":"static/js/13.6f9494babf9c4e98cb46.js","sourcesContent":["webpackJsonp([13,33,34],{\n\n/***/ 772:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enumArr2Hash\", function() { return enumArr2Hash; });\nfunction enumArr2Hash(arr) {\n    var label = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'label';\n    var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'value';\n\n    return arr.reduce(function (obj, item) {\n        obj[item[value]] = item[label];\n        return obj;\n    }, {});\n}\n\n\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(868);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(867);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__server_user_js__ = __webpack_require__(791);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    field_list: {\n        name: {\n            label: '用户名',\n            editorComponent: {\n                name: \"field_string\",\n                config: {\n                    placeholder: '请输入用户名'\n                },\n                default: ''\n            },\n            validator: [{\n                validator: function validator(rule, value, cb) {\n                    if (value.length < 2) {\n                        cb([new Error(\"姓名最少两个字符\")]);\n                    } else {\n                        cb();\n                    }\n                }\n            }]\n        },\n        password: {\n            label: '密码',\n            editorComponent: {\n                name: \"field_pwd\",\n                config: {\n                    placeholder: '请输入密码'\n                },\n                default: ''\n            },\n            validator: [{\n                validator: function validator(rule, value, cb) {\n                    if (value.length > 15) {\n                        cb([new Error('密码位数最多为15位')]);\n                    } else {\n                        cb();\n                    }\n                }\n            }]\n        },\n        gender: {\n            label: '性别',\n            editorComponent: {\n                name: \"field_sex\",\n                default: 0\n            },\n            showComponent: {\n                name: \"enum_view\",\n                path: \"components/common/enum_view\",\n                config: {\n                    enums: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"genderEnum\"]\n                }\n            },\n            tip: \"暂不支持LGBT\"\n        },\n        typ: {\n            label: '类型',\n            editorComponent: {\n                name: \"field_enum_select\",\n                config: {\n                    candidate: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"typEnum\"],\n                    valuefield: 'value',\n                    labelfield: 'label'\n                },\n                default: 0\n            },\n            showComponent: {\n                name: \"enum_view\",\n                path: \"components/common/enum_view\",\n                config: {\n                    enums: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"typHash\"]\n                }\n            }\n        },\n        privilege: {\n            label: '权限',\n            editorComponent: {\n                name: \"field_relates_tag\",\n                config: {\n                    httpRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"getPrivilege\"],\n                    labelfield: 'name',\n                    valuefield: 'id',\n                    relates: [{\n                        invalidValue: 0,\n                        relateField: 'typ',\n                        requestField: 'req_typ'\n                    }]\n                },\n                default: function _default() {\n                    return [];\n                }\n            }\n        },\n        desc: {\n            label: \"备注\",\n            editorComponent: {\n                name: \"field_text_rich\",\n                default: \"这是富文本编辑器蛤\"\n            }\n        }\n    },\n    createConfig: {\n        getInfoRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"getCreateFields\"],\n        doCreateRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"createUser\"]\n    },\n    filters: [{\n        label: \"姓名\",\n        field: \"username\",\n        editorComponent: {\n            name: \"field_string\",\n            config: {\n                placeholder: \"请输入用户姓名\"\n            },\n            default: \"\"\n        }\n    }, {\n        label: \"类型\",\n        field: \"typ\",\n        editorComponent: {\n            name: \"filter_enum\",\n            config: {\n                candidate: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"typEnum\"],\n                allvalue: -1,\n                alllabel: \"全部\"\n            },\n            default: -1\n        }\n    }, {\n        label: \"权限\",\n        field: \"privilege\",\n        editorComponent: {\n            name: \"filter_relates_enum\",\n            config: {\n                httpRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"getPrivilege\"],\n                valuefield: \"id\",\n                labelfield: \"name\",\n                placeholder: \"请选择权限\",\n                allvalue: \"all\",\n                alllabel: \"不限\",\n                relates: [{\n                    invalidValue: -1,\n                    relateField: 'typ',\n                    requestField: 'req_typ'\n                }]\n\n            },\n            default: \"all\"\n        }\n    }, {\n        label: \"自定义filter\",\n        field: \"test\",\n        editorComponent: {\n            name: \"test_custom_filter\",\n            config: {\n                msg: \"测试自定义filter\"\n            },\n            path: \"components/user/test_custom_filter\",\n            default: \"test\"\n        }\n    }],\n    listConfig: {\n        listRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"getUserList\"],\n        sortFields: ['typ'],\n        treatData: function treatData(data) {\n            var _this = this;\n\n            return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n                return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                return _context.abrupt(\"return\", data);\n\n                            case 1:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this);\n            }))();\n        },\n\n        pageSizes: [10, 20, 30, 50]\n    },\n    operators: [{\n        component: \"info\",\n        componentPath: \"components/common/info.vue\",\n        config: {\n            title: \"用户详情\",\n            detailRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"getUserDetail\"]\n        }\n    }, {\n        component: \"edit\",\n        componentPath: \"components/common/edit\",\n        config: {\n            getInfoRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"getEditUserInfo\"],\n            doEditRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"editUser\"],\n            autoValidate: false\n        }\n    }, {\n        label: \"搞个大新闻\",\n        type: \"warning\",\n        function: function _function(data) {\n            this.$message({\n                message: data.name + \"\\u4E0D\\u8981\\u603B\\u60F3\\u7740\\u641E\\u4E2A\\u5927\\u65B0\\u95FB\",\n                type: \"success\",\n                duration: 2000\n            });\n        }\n    }, {\n        component: \"delete\",\n        componentPath: \"components/common/delete\",\n        config: {\n            doDeleteRequest: __WEBPACK_IMPORTED_MODULE_2__server_user_js__[\"delUser\"]\n        }\n    }]\n});\n\n/***/ }),\n\n/***/ 791:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"genderEnum\", function() { return genderEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typEnum\", function() { return typEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typHash\", function() { return typHash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPrivilege\", function() { return getPrivilege; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCreateFields\", function() { return getCreateFields; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createUser\", function() { return createUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserList\", function() { return getUserList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserDetail\", function() { return getUserDetail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEditUserInfo\", function() { return getEditUserInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editUser\", function() { return editUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delUser\", function() { return delUser; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__widget_utility_js__ = __webpack_require__(772);\n\n\n\n\n\nvar userTable = [{\n    id: 1,\n    name: '渡边早季',\n    gender: 1,\n    password: '123456',\n    typ: 999,\n    privilege: [1, 2, 3, 5, 11, 123, 999],\n    desc: \"来自新世界的女主\"\n}, {\n    id: 2,\n    name: '朝比奈觉',\n    gender: 0,\n    password: 'qwerty',\n    typ: 99,\n    privilege: [1, 2, 3, 5],\n    desc: \"来自新世界的男主\"\n}, {\n    id: 3,\n    name: \"秋月真理亚\",\n    gender: 1,\n    password: \"123456\",\n    typ: 99,\n    privilege: [1, 2],\n    desc: \"早季的姬友\"\n}, {\n    id: 4,\n    name: \"伊东守\",\n    gender: 0,\n    password: \"wwwww\",\n    typ: 2,\n    privilege: [0, 1],\n    desc: \"~~~\"\n}, {\n    id: 5,\n    name: \"青沼瞬\",\n    gender: 0,\n    password: \"1234567\",\n    typ: 1,\n    privilege: [0],\n    desc: \"业魔化~\"\n}];\n\nvar id = userTable.length + 1;\n\nvar genderEnum = {\n    0: '男',\n    1: '女'\n};\n\nvar typEnum = [{ value: 0, label: '路人甲' }, { value: 1, label: '店小二' }, { value: 2, label: '收银员' }, { value: 99, label: '店掌柜' }, { value: 999, label: '管理员' }];\n\nvar typHash = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__widget_utility_js__[\"enumArr2Hash\"])(typEnum);\n\nvar privilegeEnum = [{ \"id\": 1, \"name\": \"游客\" }, { \"id\": 2, \"name\": \"打杂\" }, { \"id\": 3, \"name\": \"跑堂\" }, { \"id\": 5, \"name\": \"财务\" }, { \"id\": 11, \"name\": \"店长\" }, { \"id\": 123, \"name\": \"客服\" }, { \"id\": 999, \"name\": \"关小黑屋\" }];\n\nfunction getPrivilege(vm, data, cb) {\n    var typ = data.req_typ;\n    console.log(typ);\n    var rst = void 0;\n    switch (typ) {\n        case 0:\n            rst = privilegeEnum.slice(0, 1);\n            break;\n        case 1:\n            rst = privilegeEnum.slice(0, 2);\n            break;\n        case 2:\n            rst = privilegeEnum.slice(0, 4);\n            break;\n        case 99:\n            rst = privilegeEnum.slice(0, -2);\n            break;\n        case 999:\n            rst = privilegeEnum.slice(0);\n            break;\n        default:\n            rst = [];\n    }\n    cb(rst);\n}\n\nvar createFields = [[\"name\", \"password\"], [\"gender\", \"typ\"], [\"privilege\"]];\n\nfunction getCreateFields(vm, cb) {\n    cb(createFields);\n}\n\nfunction createUser(vm, data, cb) {\n    data.id = id++;\n    userTable.push(data);\n    cb();\n}\n\nfunction getUserList(vm, params, cb) {\n    var data = userTable;\n    var fields = [\"name\", \"gender\", \"typ\"];\n    var total = data.length;\n\n    cb({\n        data: data,\n        fields: fields,\n        total: total\n    });\n}\n\nvar detailFields = [[\"name\"], [\"gender\", \"typ\"], [\"desc\"]];\n\nfunction getUserDetail(vm, cb) {\n    var id = vm.id;\n\n    var _loop = function _loop(item) {\n        if (item.id === id) {\n            var rst = detailFields.reduce(function (arr, row) {\n                var rowInfo = row.reduce(function (arr2, field) {\n                    var value = item[field];\n                    if (field === 'typ') {\n                        console.log(value, typHash);\n                        value = typHash[value];\n                    }\n                    arr2.push({ field: field, value: value });\n                    return arr2;\n                }, []);\n                arr.push(rowInfo);\n                return arr;\n            }, []);\n\n            cb(rst);\n            return {\n                v: void 0\n            };\n        }\n    };\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(userTable), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var item = _step.value;\n\n            var _ret = _loop(item);\n\n            if ((typeof _ret === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(_ret)) === \"object\") return _ret.v;\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\n\nvar editFields = [[\"name\"], [\"gender\", \"typ\"], [\"privilege\"], [\"desc\"]];\n\nfunction getEditUserInfo(vm, cb) {\n    var id = vm.id;\n\n    var _loop2 = function _loop2(item) {\n        if (item.id === id) {\n            var rst = editFields.reduce(function (arr, row) {\n                var rowInfo = row.reduce(function (arr2, field) {\n                    arr2.push({\n                        field: field,\n                        value: item[field]\n                    });\n\n                    return arr2;\n                }, []);\n\n                arr.push(rowInfo);\n                return arr;\n            }, []);\n            cb(rst);\n            return {\n                v: void 0\n            };\n        }\n    };\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(userTable), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var item = _step2.value;\n\n            var _ret2 = _loop2(item);\n\n            if ((typeof _ret2 === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(_ret2)) === \"object\") return _ret2.v;\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n}\n\nfunction editUser(vm, data, cb) {\n    var id = vm.id;\n\n    var _loop3 = function _loop3(item) {\n        if (item.id === id) {\n            var keys = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(item);\n            keys.forEach(function (field) {\n                if (field in data) {\n                    item[field] = data[field];\n                }\n            });\n            return 'break';\n        }\n    };\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        for (var _iterator3 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(userTable), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var item = _step3.value;\n\n            var _ret3 = _loop3(item);\n\n            if (_ret3 === 'break') break;\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    cb();\n}\n\nfunction delUser(vm, cb) {\n    var id = vm.id;\n    for (var index in userTable) {\n        if (userTable[index]['id'] === id) {\n            userTable.splice(index, 1);\n        }\n    }\n}\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/13.6f9494babf9c4e98cb46.js","function enumArr2Hash(arr,label='label',value='value'){\r\n    return arr.reduce((obj,item)=>{\r\n        obj[item[value]] = item[label];\r\n        return obj;\r\n    },{})\r\n}\r\n\r\nexport {\r\n    enumArr2Hash,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/widget/utility.js","import {\r\n    genderEnum,\r\n    typEnum,\r\n    typHash,\r\n    getPrivilege,\r\n    getCreateFields,\r\n    createUser,\r\n    getUserList,\r\n    getUserDetail,\r\n    getEditUserInfo,\r\n    editUser,\r\n    delUser,\r\n} from \"@/server/user.js\"\r\n\r\nexport default{\r\n    field_list:{\r\n        name:{\r\n            label:'用户名',\r\n            editorComponent:{\r\n                name:\"field_string\",\r\n                config:{\r\n                    placeholder:'请输入用户名',\r\n                },\r\n                default:'',\r\n            },\r\n            validator:[\r\n                {\r\n                    validator:function(rule,value,cb){\r\n                        if(value.length<2){\r\n                            cb([new Error(\"姓名最少两个字符\")])\r\n                        }else{\r\n                            cb()\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n        },\r\n        password:{\r\n            label:'密码',\r\n            editorComponent:{\r\n                name:\"field_pwd\",\r\n                config:{\r\n                    placeholder:'请输入密码',\r\n                },\r\n                default:'',\r\n            },\r\n            validator:[\r\n                {\r\n                    validator(rule,value,cb){\r\n                        if(value.length>15){\r\n                            cb([new Error('密码位数最多为15位')])\r\n                        }else{\r\n                            cb();\r\n                        }\r\n                    }\r\n                }\r\n\r\n            ],\r\n        },\r\n        gender:{\r\n            label:'性别',\r\n            editorComponent:{\r\n                name:\"field_sex\",\r\n                default:0,\r\n            },\r\n            showComponent:{\r\n                name:\"enum_view\",\r\n                path:\"components/common/enum_view\",\r\n                config:{\r\n                    enums:genderEnum,\r\n                },\r\n            },\r\n            tip:\"暂不支持LGBT\",\r\n        },\r\n        typ:{\r\n            label:'类型',\r\n            editorComponent:{\r\n                name:\"field_enum_select\",\r\n                config:{\r\n                    candidate:typEnum,\r\n                    valuefield:'value',\r\n                    labelfield:'label',\r\n                },\r\n                default:0,\r\n            },\r\n            showComponent:{\r\n                name:\"enum_view\",\r\n                path:\"components/common/enum_view\",\r\n                config:{\r\n                    enums:typHash\r\n                }\r\n            }\r\n        },\r\n        privilege:{\r\n            label:'权限',\r\n            editorComponent:{\r\n                name:\"field_relates_tag\",\r\n                config:{\r\n                    httpRequest:getPrivilege,\r\n                    labelfield:'name',\r\n                    valuefield:'id',\r\n                    relates:[\r\n                        {\r\n                            invalidValue:0,\r\n                            relateField:'typ',\r\n                            requestField:'req_typ',\r\n                        }\r\n                    ],\r\n                },\r\n                default(){\r\n                    return [];\r\n                },\r\n            },\r\n        },\r\n        desc:{\r\n            label:\"备注\",\r\n            editorComponent:{\r\n                name:\"field_text_rich\",\r\n                default:\"这是富文本编辑器蛤\",\r\n            },\r\n        }\r\n    },\r\n    createConfig:{\r\n        getInfoRequest:getCreateFields,\r\n        doCreateRequest:createUser,\r\n    },\r\n    filters:[\r\n        {\r\n            label:\"姓名\",\r\n            field:\"username\",\r\n            editorComponent:{\r\n                name:\"field_string\",\r\n                config:{\r\n                    placeholder:\"请输入用户姓名\",\r\n                },\r\n                default:\"\",\r\n            },\r\n        },\r\n        {\r\n            label:\"类型\",\r\n            field:\"typ\",\r\n            editorComponent:{\r\n                name:\"filter_enum\",\r\n                config:{\r\n                    candidate:typEnum,\r\n                    allvalue:-1,\r\n                    alllabel:\"全部\",\r\n                },\r\n                default:-1,\r\n            },\r\n        },\r\n        {\r\n            label:\"权限\",\r\n            field:\"privilege\",\r\n            editorComponent:{\r\n                name:\"filter_relates_enum\",\r\n                config:{\r\n                    httpRequest:getPrivilege,\r\n                    valuefield:\"id\",\r\n                    labelfield:\"name\",\r\n                    placeholder:\"请选择权限\",\r\n                    allvalue:\"all\",\r\n                    alllabel:\"不限\",\r\n                    relates:[\r\n                        {\r\n                            invalidValue:-1,\r\n                            relateField:'typ',\r\n                            requestField:'req_typ',\r\n                        }\r\n                    ],\r\n\r\n\r\n                },\r\n                default:\"all\",\r\n            },\r\n        },\r\n        {\r\n            label:\"自定义filter\",\r\n            field:\"test\",\r\n            editorComponent:{\r\n                name:\"test_custom_filter\",\r\n                config:{\r\n                    msg:\"测试自定义filter\",\r\n                },\r\n                path:\"components/user/test_custom_filter\",\r\n                default:\"test\",\r\n            },\r\n        }\r\n    ],\r\n    listConfig:{\r\n        listRequest:getUserList,\r\n        sortFields:['typ'],\r\n        async treatData(data){\r\n            return data\r\n        },\r\n        pageSizes:[10,20,30,50],\r\n    },\r\n    operators:[\r\n        {\r\n            component:\"info\",\r\n            componentPath:\"components/common/info.vue\",\r\n            config:{\r\n                title:\"用户详情\",\r\n                detailRequest:getUserDetail,\r\n            },\r\n        },\r\n        {\r\n            component:\"edit\",\r\n            componentPath:\"components/common/edit\",\r\n            config:{\r\n                getInfoRequest:getEditUserInfo,\r\n                doEditRequest:editUser,\r\n                autoValidate:false,\r\n            }\r\n        },\r\n        {\r\n            label:\"搞个大新闻\",\r\n            type:\"warning\",\r\n            function(data){\r\n                this.$message({\r\n                    message:`${data.name}不要总想着搞个大新闻`,\r\n                    type:\"success\",\r\n                    duration:2000,\r\n                })\r\n            },\r\n        },\r\n        {\r\n            component:\"delete\",\r\n            componentPath:\"components/common/delete\",\r\n            config:{\r\n                doDeleteRequest:delUser,\r\n            }\r\n        }\r\n\r\n    ],\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/userModel.js","import {enumArr2Hash} from \"@/widget/utility.js\"\r\n\r\nconst userTable = [\r\n    {\r\n        id:1,\r\n        name:'渡边早季',\r\n        gender:1,\r\n        password:'123456',\r\n        typ:999,\r\n        privilege:[1,2,3,5,11,123,999],\r\n        desc:\"来自新世界的女主\"\r\n    },\r\n    {\r\n        id:2,\r\n        name:'朝比奈觉',\r\n        gender:0,\r\n        password:'qwerty',\r\n        typ:99,\r\n        privilege:[1,2,3,5],\r\n        desc:\"来自新世界的男主\",\r\n    },\r\n    {\r\n        id:3,\r\n        name:\"秋月真理亚\",\r\n        gender:1,\r\n        password:\"123456\",\r\n        typ:99,\r\n        privilege:[1,2],\r\n        desc:\"早季的姬友\",\r\n    },\r\n    {\r\n        id:4,\r\n        name:\"伊东守\",\r\n        gender:0,\r\n        password:\"wwwww\",\r\n        typ:2,\r\n        privilege:[0,1],\r\n        desc:\"~~~\",\r\n    },\r\n    {\r\n        id:5,\r\n        name:\"青沼瞬\",\r\n        gender:0,\r\n        password:\"1234567\",\r\n        typ:1,\r\n        privilege:[0],\r\n        desc:\"业魔化~\"\r\n    }\r\n\r\n];\r\n\r\nlet id = userTable.length + 1;\r\n\r\nconst genderEnum = {\r\n    0:'男',\r\n    1:'女',\r\n}\r\n\r\nconst typEnum = [\r\n    {value:0,label:'路人甲'},\r\n    {value:1,label:'店小二'},\r\n    {value:2,label:'收银员'},\r\n    {value:99,label:'店掌柜'},\r\n    {value:999,label:'管理员'},\r\n]\r\n\r\nconst typHash = enumArr2Hash(typEnum);\r\n\r\nconst privilegeEnum = [\r\n    {\"id\":1,\"name\":\"游客\"},\r\n    {\"id\":2,\"name\":\"打杂\"},\r\n    {\"id\":3,\"name\":\"跑堂\"},\r\n    {\"id\":5,\"name\":\"财务\"},\r\n    {\"id\":11,\"name\":\"店长\"},\r\n    {\"id\":123,\"name\":\"客服\"},\r\n    {\"id\":999,\"name\":\"关小黑屋\"},\r\n];\r\n\r\nfunction getPrivilege(vm,data,cb){\r\n    let typ = data.req_typ;\r\n    console.log(typ)\r\n    let rst;\r\n    switch(typ){\r\n        case 0:\r\n            rst = privilegeEnum.slice(0,1);\r\n            break;\r\n        case 1:\r\n            rst = privilegeEnum.slice(0,2);\r\n            break;\r\n        case 2:\r\n            rst = privilegeEnum.slice(0,4);\r\n            break;\r\n        case 99:\r\n            rst = privilegeEnum.slice(0,-2);\r\n            break;\r\n        case 999:\r\n            rst = privilegeEnum.slice(0);\r\n            break;\r\n        default:\r\n            rst = [];\r\n    }\r\n    cb(rst);\r\n}\r\n\r\n\r\nconst createFields = [\r\n    [\"name\",\"password\"],\r\n    [\"gender\",\"typ\"],\r\n    [\"privilege\"],\r\n];\r\n\r\nfunction getCreateFields(vm,cb){\r\n    cb(createFields);\r\n}\r\n\r\nfunction createUser(vm,data,cb){\r\n    data.id = id++;\r\n    userTable.push(data);\r\n    cb();\r\n}\r\n\r\n\r\nfunction getUserList(vm,params,cb){\r\n    let data = userTable;\r\n    let fields = [\"name\",\"gender\",\"typ\"];\r\n    let total = data.length;\r\n\r\n    cb({\r\n        data,\r\n        fields,\r\n        total,\r\n    })\r\n}\r\n\r\nconst detailFields = [\r\n    [\"name\"],\r\n    [\"gender\",\"typ\"],\r\n    [\"desc\"],\r\n];\r\n\r\nfunction getUserDetail(vm,cb){\r\n    let id = vm.id;\r\n    for(let item of userTable){\r\n        if(item.id === id){\r\n            let rst = detailFields.reduce((arr,row)=>{\r\n                let rowInfo = row.reduce((arr2,field)=>{\r\n                    let value = item[field];\r\n                    if(field === 'typ'){\r\n                        console.log(value,typHash)\r\n                        value = typHash[value];\r\n                    }\r\n                    arr2.push({field,value});\r\n                    return arr2;\r\n                },[])\r\n                arr.push(rowInfo);\r\n                return arr;\r\n            },[]);\r\n\r\n            cb(rst)\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\nconst editFields = [\r\n    [\"name\"],\r\n    [\"gender\",\"typ\"],\r\n    [\"privilege\"],\r\n    [\"desc\"]\r\n];\r\n\r\nfunction getEditUserInfo(vm,cb){\r\n    let id = vm.id;\r\n    for(let item of userTable){\r\n        if(item.id === id){\r\n            let rst = editFields.reduce((arr,row)=>{\r\n                let rowInfo = row.reduce((arr2,field)=>{\r\n                    arr2.push({\r\n                        field,\r\n                        value:item[field],\r\n                    })\r\n\r\n                    return arr2;\r\n                },[]);\r\n\r\n                arr.push(rowInfo);\r\n                return arr;\r\n            },[])\r\n            cb(rst);\r\n            return;\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nfunction editUser(vm,data,cb){\r\n    let id = vm.id;\r\n    for(let item of userTable){\r\n        if(item.id === id){\r\n            let keys = Object.keys(item);\r\n            keys.forEach((field)=>{\r\n                if(field in data){\r\n                    item[field] = data[field];\r\n                }\r\n            })\r\n            break;\r\n        }\r\n    }\r\n    cb();\r\n}\r\n\r\nfunction delUser(vm,cb){\r\n    let id = vm.id;\r\n    for(let index in userTable){\r\n        if(userTable[index]['id'] === id){\r\n            userTable.splice(index,1);\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    genderEnum,\r\n    typEnum,\r\n    typHash,\r\n    getPrivilege,\r\n    getCreateFields,\r\n    createUser,\r\n    getUserList,\r\n    getUserDetail,\r\n    getEditUserInfo,\r\n    editUser,\r\n    delUser,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/server/user.js"],"sourceRoot":""}